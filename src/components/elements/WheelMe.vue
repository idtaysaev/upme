<template>
  <div class="wheel-me">
    <transition name="fade">
      <div
        v-if="rotated"
        class="wheel-me-indicator">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="32.06"
          height="27.75"
          viewBox="0 0 32.06 27.75">
          <defs>
            <linearGradient
              id="linear-gradient"
              x1="2905.394"
              y1="1671.31"
              x2="2916.046"
              y2="1643.56"
              gradientUnits="userSpaceOnUse">
              <stop
                offset="0"
                stop-color="#c42037"/>
              <stop
                offset="1"
                stop-color="#ff030f"/>
            </linearGradient>
          </defs>
          <path
            id="Многоугольник_935"
            data-name="Многоугольник 935"
            class="cls-1"
            d="M2910.71,1671.33l-16.02-27.76h32.05Z"
            transform="translate(-2894.69 -1643.56)"/>
        </svg>
      </div>
    </transition>
    <div
      :style="{ transitionDuration: animationDuration + 'ms', transform: `rotate(${currentRotation*rotation+prizes[index].rotation}deg)` }"
      class="img-container wheel-me-img">
      <svg
        id="Слой_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        version="1.1"
        x="0px"
        y="0px"
        viewBox="0 0 441.6 441.6"
        style="enable-background:new 0 0 441.6 441.6;"
        xml:space="preserve">
        <linearGradient
          id="SVGID_1_"
          gradientUnits="userSpaceOnUse"
          x1="252.6074"
          y1="95.9495"
          x2="450.3832"
          y2="95.9495"
          gradientTransform="matrix(0.9267 -0.3758 0.3758 0.9267 -23.0802 291.9569)">
          <stop
            offset="0"
            style="stop-color:#C42037"/>
          <stop
            offset="1"
            style="stop-color:#FF030F"/>
        </linearGradient>
        <path
          class="st0"
          d="M220.8,221.1l183.3-74.3c9.8,24.1,14.7,49.8,14.5,75.8s-5.5,51.6-15.6,75.6L220.8,221.1z"/>
        <path
          class="st1"
          d="M220.8,221.1l77-182.2c23.9,10.1,45.6,24.8,63.8,43.3s32.6,40.4,42.4,64.5L220.8,221.1z"/>
        <linearGradient
          id="SVGID_2_"
          gradientUnits="userSpaceOnUse"
          x1="252.6074"
          y1="-72.8594"
          x2="392.4494"
          y2="-72.8594"
          gradientTransform="matrix(0.9267 -0.3758 0.3758 0.9267 -23.0802 291.9569)">
          <stop
            offset="0"
            style="stop-color:#C42037"/>
          <stop
            offset="0.7309"
            style="stop-color:#EE0B1A"/>
          <stop
            offset="1"
            style="stop-color:#FF030F"/>
        </linearGradient>
        <path
          class="st2"
          d="M220.8,221.1L146.5,37.9c24.1-9.8,49.8-14.7,75.8-14.5s51.6,5.5,75.6,15.6L220.8,221.1z"/>
        <path
          class="st1"
          d="M220.8,221.1l-182.2-77C48.7,120.2,63.5,98.5,82,80.3s40.4-32.6,64.5-42.4L220.8,221.1z"/>
        <linearGradient
          id="SVGID_3_"
          gradientUnits="userSpaceOnUse"
          x1="156.7013"
          y1="42.9394"
          x2="128.5698"
          y2="-116.6025"
          gradientTransform="matrix(0.9267 -0.3758 0.3758 0.9267 -23.0802 291.9569)">
          <stop
            offset="0"
            style="stop-color:#C42037"/>
          <stop
            offset="1"
            style="stop-color:#FF030F"/>
        </linearGradient>
        <path
          class="st3"
          d="M220.8,221.1L37.5,295.5c-9.8-24.1-14.7-49.8-14.5-75.8s5.5-51.6,15.6-75.6L220.8,221.1z"/>
        <path
          class="st1"
          d="M220.8,221.1l-77,182.2c-23.9-10.1-45.6-24.8-63.8-43.3c-18.2-18.5-32.6-40.4-42.4-64.5L220.8,221.1z"/>
        <linearGradient
          id="SVGID_4_"
          gradientUnits="userSpaceOnUse"
          x1="112.7654"
          y1="124.9165"
          x2="252.6074"
          y2="124.9165"
          gradientTransform="matrix(0.9267 -0.3758 0.3758 0.9267 -23.0802 291.9569)">
          <stop
            offset="0"
            style="stop-color:#C42037"/>
          <stop
            offset="1"
            style="stop-color:#FF030F"/>
        </linearGradient>
        <path
          class="st4"
          d="M220.8,221.1l74.3,183.3c-24.1,9.8-49.8,14.7-75.8,14.5s-51.6-5.5-75.6-15.6L220.8,221.1z"/>
        <path
          class="st1"
          d="M220.8,221.1l182.2,77c-10.1,23.9-24.8,45.6-43.3,63.8c-18.5,18.2-40.4,32.6-64.5,42.4L220.8,221.1z"/>
        <ellipse
          transform="matrix(0.9267 -0.3758 0.3758 0.9267 -66.9622 99.2193)"
          class="st5"
          cx="220.8"
          cy="221.2"
          rx="98.9"
          ry="98.9"/>
        <ellipse
          transform="matrix(0.9267 -0.3758 0.3758 0.9267 -66.925 99.1951)"
          class="st6"
          cx="220.8"
          cy="221.1"
          rx="84.9"
          ry="84.9"/>
        <g>
          <path
            class="st6"
            d="M204.8,63.2v2.9l-8,16.6h-4.8l8-15.7V67H191v-3.7H204.8z"/>
          <path
            class="st6"
            d="M218.8,62.5v11.6c0,3.5,1.3,5.2,3.7,5.2c2.4,0,3.7-1.7,3.7-5.2V62.5h4.6v11.3c0,6.2-3.2,9.2-8.4,9.2   c-5.1,0-8.1-2.8-8.1-9.3V62.5H218.8z"/>
          <path
            class="st6"
            d="M234.6,73c0-1.9-0.1-3.6-0.1-4.9h4l0.2,2h0.1c1.1-1.6,2.8-2.4,4.9-2.4c3.2,0,6.1,2.8,6.1,7.5   c0,5.3-3.4,7.9-6.7,7.9c-1.8,0-3.2-0.7-3.8-1.7h-0.1v7.3h-4.6V73z M239.1,76.4c0,0.4,0,0.7,0.1,1c0.3,1.2,1.4,2.2,2.7,2.2   c2,0,3.2-1.6,3.2-4.1c0-2.3-1-4.1-3.1-4.1c-1.3,0-2.4,1-2.7,2.3c-0.1,0.2-0.1,0.5-0.1,0.8V76.4z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M94.1,145.7c0.9-0.3,2.7-1,4.1-2.4c1.7-1.7,1.7-3.3,0.7-4.4c-1.4-1.4-3.3-0.6-4.8,0.8l-1.3,1.3l-2.3-2.3   l1.3-1.3c1.1-1.1,2-2.9,0.9-4.1c-0.8-0.8-2.1-0.8-3.5,0.6c-1.1,1.1-1.8,2.8-2.1,3.7l-3-1.7c0.3-1.4,1.4-3.5,3.2-5.3   c2.9-2.9,6.1-3,8-1.1c1.5,1.5,1.8,3.4,0.7,5.7l0,0c2-1.4,4.5-1.4,6.3,0.4c2.4,2.4,2.1,6.4-1.4,9.9c-1.8,1.8-3.8,2.8-5.1,3.1   L94.1,145.7z"/>
          <path
            class="st6"
            d="M111.7,120.6c4.3,4.3,5.5,8.9,2,12.4c-3.6,3.6-8.3,1.9-12.3-2c-4-4-5.5-8.8-1.9-12.4   C103.2,114.9,108,116.8,111.7,120.6z M104.7,127.8c3.1,3.2,5.4,3.9,6.7,2.7c1.3-1.3,0.4-3.5-2.8-6.6c-3.1-3.1-5.3-4-6.6-2.7   C100.7,122.3,101.4,124.6,104.7,127.8z"/>
          <path
            class="st6"
            d="M114,103.6l8.2,8.2c2.5,2.5,4.6,2.8,6.3,1.1c1.7-1.7,1.4-3.8-1.1-6.3l-8.2-8.2l3.2-3.2l8,8   c4.4,4.4,4.3,8.7,0.6,12.5c-3.6,3.6-7.7,3.7-12.3-0.8l-8-8L114,103.6z"/>
          <path
            class="st6"
            d="M132.5,99.9c-1.4-1.4-2.6-2.5-3.6-3.4l2.8-2.8l1.6,1.3l0,0c-0.3-1.9,0.3-3.6,1.8-5.1c2.3-2.3,6.3-2.3,9.6,1   c3.8,3.8,3.2,8,0.8,10.3c-1.3,1.3-2.7,1.7-3.9,1.5l0,0l5.2,5.2l-3.2,3.2L132.5,99.9z M138.2,99.1c0.3,0.3,0.5,0.5,0.7,0.6   c1.1,0.7,2.5,0.6,3.4-0.4c1.4-1.4,1.1-3.4-0.7-5.2c-1.7-1.7-3.6-2.2-5.1-0.7c-0.9,0.9-1,2.4-0.3,3.6c0.1,0.2,0.3,0.4,0.5,0.6   L138.2,99.1z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M67,262.1L67,262.1l1.8,3.8l-3.4,0.8l-2.4-5.2v-3.8h19.5v4.4H67z"/>
          <path
            class="st6"
            d="M72.6,236.9c6,0,10.2,2.4,10.2,7.4c0,5-4.5,7.3-10,7.3c-5.6,0-10.1-2.4-10.1-7.4   C62.6,238.9,67.3,236.9,72.6,236.9z M72.7,247c4.5,0,6.6-1,6.6-2.8c0-1.8-2.2-2.7-6.7-2.7c-4.3,0-6.6,0.9-6.6,2.8   C66.1,245.9,68.2,247,72.7,247z"/>
          <path
            class="st6"
            d="M72.6,220.2c6,0,10.2,2.4,10.2,7.4c0,5-4.5,7.3-10,7.3c-5.6,0-10.1-2.4-10.1-7.4   C62.6,222.3,67.3,220.2,72.6,220.2z M72.7,230.3c4.5,0,6.6-1,6.6-2.8c0-1.8-2.2-2.7-6.7-2.7c-4.3,0-6.6,0.9-6.6,2.8   C66.1,229.2,68.2,230.4,72.7,230.3z"/>
          <path
            class="st6"
            d="M62.2,206.6h11.6c3.5,0,5.2-1.3,5.2-3.7c0-2.4-1.7-3.7-5.2-3.7H62.2v-4.6h11.3c6.2,0,9.2,3.2,9.2,8.4   c0,5.1-2.8,8.1-9.3,8.1H62.2V206.6z"/>
          <path
            class="st6"
            d="M72.7,190.9c-1.9,0-3.6,0.1-4.9,0.1v-4l2-0.2v-0.1c-1.6-1.1-2.4-2.8-2.4-4.9c0-3.2,2.8-6.1,7.5-6.1   c5.3,0,7.9,3.4,7.9,6.7c0,1.8-0.7,3.2-1.7,3.8v0.1h7.3v4.6H72.7z M76.1,186.3c0.4,0,0.7,0,1-0.1c1.2-0.3,2.2-1.4,2.2-2.7   c0-2-1.6-3.2-4.1-3.2c-2.3,0-4.1,1-4.1,3.1c0,1.3,1,2.4,2.3,2.7c0.2,0.1,0.5,0.1,0.8,0.1H76.1z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M134.1,352L134.1,352l3.9,1.4l-1.9,2.9l-5.3-2l-2.7-2.7l13.8-13.8l3.1,3.1L134.1,352z"/>
          <path
            class="st6"
            d="M120.2,330.2c4.3-4.3,8.9-5.5,12.4-2c3.6,3.6,1.9,8.3-2,12.3c-4,4-8.8,5.5-12.4,1.9   C114.6,338.7,116.4,334,120.2,330.2z M127.4,337.3c3.2-3.1,3.9-5.4,2.7-6.7c-1.3-1.3-3.5-0.4-6.6,2.8c-3.1,3.1-4,5.3-2.7,6.6   C122,341.2,124.3,340.5,127.4,337.3z"/>
          <path
            class="st6"
            d="M103.3,327.9l8.2-8.2c2.5-2.5,2.8-4.6,1.1-6.3c-1.7-1.7-3.8-1.4-6.3,1.1l-8.2,8.2l-3.2-3.2l8-8   c4.4-4.4,8.7-4.3,12.5-0.6c3.6,3.6,3.7,7.7-0.8,12.3l-8,8L103.3,327.9z"/>
          <path
            class="st6"
            d="M99.5,309.4c-1.4,1.4-2.5,2.6-3.4,3.6l-2.8-2.8l1.3-1.6l0,0c-1.9,0.3-3.6-0.3-5.1-1.8c-2.3-2.3-2.3-6.3,1-9.6   c3.8-3.8,8-3.2,10.3-0.8c1.3,1.3,1.7,2.7,1.5,3.9l0,0l5.2-5.2l3.2,3.2L99.5,309.4z M98.7,303.7c0.3-0.3,0.5-0.5,0.6-0.7   c0.7-1.1,0.6-2.5-0.4-3.4c-1.4-1.4-3.4-1.1-5.2,0.7c-1.7,1.7-2.2,3.6-0.7,5.1c0.9,0.9,2.4,1,3.6,0.3c0.2-0.1,0.4-0.3,0.6-0.5   L98.7,303.7z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M244.7,375.3h7.6l0.4-3c-0.4,0.1-0.8,0.1-1.3,0.1c-1.9,0-3.8-0.4-5.1-1.4c-1.5-1-2.4-2.6-2.4-4.9   c0-3.6,3.1-6.8,8.4-6.8c2.4,0,4.3,0.5,5.4,1.1l-0.8,3.4c-0.9-0.4-2.6-1-4.4-1c-1.9,0-3.9,0.9-3.9,3c0,2,1.6,3.2,5.5,3.2   c1.1,0,1.8-0.1,2.6-0.2l-1.3,10.2h-10.7V375.3z"/>
          <path
            class="st6"
            d="M226.7,369.4c0-6,2.4-10.2,7.4-10.2c5,0,7.3,4.5,7.3,10c0,5.6-2.4,10.1-7.4,10.1   C228.7,379.4,226.7,374.7,226.7,369.4z M236.8,369.2c0-4.5-1-6.6-2.8-6.6c-1.8,0-2.7,2.2-2.7,6.7c0,4.3,0.9,6.6,2.8,6.6   C235.7,375.9,236.8,373.8,236.8,369.2z"/>
          <path
            class="st6"
            d="M213.1,379.7v-11.6c0-3.5-1.3-5.2-3.7-5.2c-2.4,0-3.7,1.7-3.7,5.2v11.6h-4.6v-11.3c0-6.2,3.2-9.2,8.4-9.2   c5.1,0,8.1,2.8,8.1,9.3v11.3H213.1z"/>
          <path
            class="st6"
            d="M197.4,369.3c0,1.9,0.1,3.6,0.1,4.9h-4l-0.2-2h-0.1c-1.1,1.6-2.8,2.4-4.9,2.4c-3.2,0-6.1-2.8-6.1-7.5   c0-5.3,3.4-7.9,6.7-7.9c1.8,0,3.2,0.7,3.8,1.7h0.1v-7.3h4.6V369.3z M192.8,365.8c0-0.4,0-0.7-0.1-1c-0.3-1.2-1.4-2.2-2.7-2.2   c-2,0-3.2,1.6-3.2,4.1c0,2.3,1,4.1,3.1,4.1c1.3,0,2.4-1,2.7-2.3c0.1-0.2,0.1-0.5,0.1-0.8V365.8z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M355.9,303.6L355.9,303.6l1.4-3.9l2.9,1.9l-2,5.3l-2.7,2.7l-13.8-13.8l3.1-3.1L355.9,303.6z"/>
          <path
            class="st6"
            d="M339.2,320.7l5.3-5.3l-1.8-2.4c-0.3,0.3-0.5,0.6-0.8,0.9c-1.3,1.3-2.9,2.4-4.6,2.6c-1.7,0.3-3.5-0.2-5.1-1.8   c-2.6-2.6-2.6-7,1.1-10.8c1.7-1.7,3.5-2.7,4.6-3.1l1.8,3c-0.9,0.3-2.5,1.2-3.8,2.4c-1.3,1.3-2.1,3.4-0.7,4.9   c1.4,1.4,3.4,1.2,6.2-1.6c0.8-0.8,1.3-1.3,1.7-2l6.3,8.1l-7.6,7.6L339.2,320.7z"/>
          <path
            class="st6"
            d="M322.3,329.2c-4.3-4.3-5.5-8.9-2-12.4c3.6-3.6,8.3-1.9,12.3,2c4,4,5.5,8.8,1.9,12.4   C330.8,334.9,326.1,333,322.3,329.2z M329.4,322c-3.1-3.2-5.4-3.9-6.7-2.7c-1.3,1.3-0.4,3.5,2.8,6.6c3.1,3.1,5.3,4,6.6,2.7   C333.3,327.5,332.6,325.2,329.4,322z"/>
          <path
            class="st6"
            d="M320,346.2l-8.2-8.2c-2.5-2.5-4.6-2.8-6.3-1.1c-1.7,1.7-1.4,3.8,1.1,6.3l8.2,8.2l-3.2,3.2l-8-8   c-4.4-4.4-4.3-8.7-0.6-12.5c3.6-3.6,7.7-3.7,12.3,0.8l8,8L320,346.2z"/>
          <path
            class="st6"
            d="M301.5,349.9c1.4,1.4,2.6,2.5,3.6,3.4l-2.8,2.8l-1.6-1.3l0,0c0.3,1.9-0.3,3.6-1.8,5.1c-2.3,2.3-6.3,2.3-9.6-1   c-3.8-3.8-3.2-8-0.8-10.3c1.3-1.3,2.7-1.7,3.9-1.5l0,0l-5.2-5.2l3.2-3.2L301.5,349.9z M295.8,350.7c-0.3-0.3-0.5-0.5-0.7-0.6   c-1.1-0.7-2.5-0.6-3.4,0.4c-1.4,1.4-1.1,3.4,0.7,5.2c1.7,1.7,3.6,2.2,5.1,0.7c0.9-0.9,1-2.4,0.3-3.6c-0.1-0.2-0.3-0.4-0.5-0.6   L295.8,350.7z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M359.1,184.4h2.8l2.3,2.5c3.8,4.3,6,6.3,8.3,6.4c1.6,0,2.8-1,2.8-3.2c0-1.7-0.8-3.2-1.6-4.2l3.3-1.3   c1.1,1.5,2,3.8,2,6.4c0,4.4-2.6,6.8-6.1,6.8c-3.3,0-5.9-2.4-8.4-5.2l-1.5-1.8h-0.1v7.4h-3.8V184.4z"/>
          <path
            class="st6"
            d="M369,215.4c-6,0-10.2-2.4-10.2-7.4c0-5,4.5-7.3,10.1-7.3c5.6,0,10.1,2.4,10.1,7.4   C379,213.4,374.3,215.4,369,215.4z M368.9,205.3c-4.5,0-6.6,1-6.6,2.8c0,1.8,2.2,2.7,6.7,2.7c4.3,0,6.6-0.9,6.6-2.8   C375.5,206.4,373.4,205.3,368.9,205.3z"/>
          <path
            class="st6"
            d="M379.4,229h-11.6c-3.5,0-5.2,1.3-5.2,3.7c0,2.4,1.7,3.7,5.2,3.7h11.6v4.6H368c-6.2,0-9.2-3.2-9.2-8.4   c0-5.1,2.8-8.1,9.3-8.1h11.3V229z"/>
          <path
            class="st6"
            d="M368.9,244.7c1.9,0,3.6-0.1,4.9-0.1v4l-2,0.2v0.1c1.6,1.1,2.4,2.8,2.4,4.9c0,3.2-2.8,6.1-7.5,6.1   c-5.3,0-7.9-3.4-7.9-6.7c0-1.8,0.7-3.2,1.7-3.8v-0.1h-7.3v-4.6H368.9z M365.4,249.3c-0.4,0-0.7,0-1,0.1c-1.2,0.3-2.2,1.4-2.2,2.7   c0,2,1.7,3.2,4.1,3.2c2.3,0,4.1-1,4.1-3.1c0-1.3-1-2.4-2.3-2.7c-0.2-0.1-0.5-0.1-0.8-0.1H365.4z"/>
        </g>
        <g>
          <path
            class="st6"
            d="M316.1,93.2l-2,2l-17.4,6.1l-3.4-3.4l16.8-5.4l0,0l-6.3-6.3l2.7-2.7L316.1,93.2z"/>
          <path
            class="st6"
            d="M321.4,112.1c-4.3,4.3-8.9,5.5-12.4,2c-3.6-3.6-1.9-8.3,2-12.3c4-4,8.8-5.5,12.4-1.9   C327,103.6,325.1,108.3,321.4,112.1z M314.1,105c-3.2,3.1-3.9,5.4-2.7,6.7c1.3,1.3,3.5,0.4,6.6-2.8c3.1-3.1,4-5.3,2.7-6.6   C319.6,101.1,317.3,101.8,314.1,105z"/>
          <path
            class="st6"
            d="M338.3,114.4l-8.2,8.2c-2.5,2.5-2.8,4.6-1.1,6.3c1.7,1.7,3.8,1.4,6.3-1.1l8.2-8.2l3.2,3.2l-8,8   c-4.4,4.4-8.7,4.3-12.5,0.6c-3.6-3.6-3.7-7.7,0.8-12.3l8-8L338.3,114.4z"/>
          <path
            class="st6"
            d="M342,132.9c1.4-1.4,2.5-2.6,3.4-3.6l2.8,2.8l-1.3,1.6l0,0c1.9-0.3,3.6,0.3,5.1,1.8c2.3,2.3,2.3,6.3-1,9.6   c-3.8,3.8-8,3.2-10.3,0.8c-1.3-1.3-1.7-2.7-1.5-3.9l0,0l-5.2,5.2L331,144L342,132.9z M342.8,138.6c-0.3,0.3-0.5,0.5-0.6,0.7   c-0.7,1.1-0.6,2.5,0.4,3.4c1.4,1.4,3.4,1.1,5.2-0.7c1.7-1.7,2.2-3.6,0.7-5.1c-0.9-0.9-2.4-1-3.6-0.3c-0.2,0.1-0.4,0.3-0.6,0.5   L342.8,138.6z"/>
        </g>
        <path
          class="st1"
          d="M220.8,441.6c-59,0-114.4-23-156.1-64.7C23,335.2,0,279.8,0,220.8c0-59,23-114.4,64.7-156.1S161.8,0,220.8,0  s114.4,23,156.1,64.7c41.7,41.7,64.7,97.1,64.7,156.1c0,59-23,114.4-64.7,156.1C335.2,418.6,279.8,441.6,220.8,441.6z M220.8,15  C107.3,15,15,107.3,15,220.8c0,113.5,92.3,205.8,205.8,205.8c113.5,0,205.8-92.3,205.8-205.8C426.6,107.3,334.3,15,220.8,15z"/>
        <circle
          class="st6"
          cx="140.8"
          cy="23"
          r="2.1"/>
        <ellipse
          transform="matrix(0.7071 -0.7071 0.7071 0.7071 -90.2196 57.3741)"
          class="st6"
          cx="24.1"
          cy="137.6"
          rx="2.1"
          ry="2.1"/>
        <circle
          class="st6"
          cx="22.7"
          cy="301.1"
          r="2.1"/>
        <ellipse
          transform="matrix(0.7071 -0.7071 0.7071 0.7071 -255.2164 219.4115)"
          class="st6"
          cx="137.2"
          cy="417.8"
          rx="2.1"
          ry="2.1"/>
        <circle
          class="st6"
          cx="300.8"
          cy="419.3"
          r="2.1"/>
        <ellipse
          transform="matrix(0.7071 -0.7071 0.7071 0.7071 -93.179 384.4082)"
          class="st6"
          cx="417.4"
          cy="304.7"
          rx="2.1"
          ry="2.1"/>
        <circle
          class="st6"
          cx="418.9"
          cy="141.2"
          r="2.1"/>
        <ellipse
          transform="matrix(0.7071 -0.7071 0.7071 0.7071 71.8177 222.3708)"
          class="st6"
          cx="304.3"
          cy="24.5"
          rx="2.1"
          ry="2.1"/>
      </svg>
    </div>
    <button
      class="wheel-me-action"
      @click="rotate()">
      Нажми и<br>
      <b>получи приз</b>
    </button>
  </div>
</template>

<script>
// import { api } from '@/plugins/http-api'
import { mapState } from 'vuex'
export default {
  props: {
    random: {
      type: Boolean,
      default: false
    }
  },
  data () {
    return {
      rotated: false,
      rotating: false,
      animationDuration: 10000,
      index: 5,
      prizes: [
        {
          value: '7 UP',
          rotation: 0
        },
        {
          value: '20 UP',
          rotation: 270
        },
        {
          value: '50 UP',
          rotation: 180
        },
        {
          value: '100 UP',
          rotation: 90
        },
        {
          value: '10 UP',
          rotation: 135
        },
        {
          value: '30 UP',
          rotation: 45
        },
        {
          value: '70 UP',
          rotation: 315
        },
        {
          value: '150 UP',
          rotation: 225
        }
      ],
      rotation: 1440,
      currentRotation: 0
    }
  },
  computed: {
    ...mapState('user', [
      'free_spin',
      'spin'
    ]),
    spins () {
      return this.free_spin + this.spin
    }
  },
  methods: {
    rotate () {
      if (!this.rotating) {
        // if (this.random) {
        //   this.currentRotation++
        //   this.index = Math.round(Math.random() * 8 - 0.5)
        //   this.rotated = true
        //   this.rotating = true
        // } else {
        //   if (this.spins) {
        //     api.get('profile/wheel')
        //       .then(response => {
        //         console.log('wheel-me', response)
        //         this.currentRotation++
        //         this.index = response.data.data - 1
        //         this.rotated = true
        //         this.rotating = true
        //         setTimeout(async () => {
        //           await this.$store.dispatch('user/init')
        //           this.rotating = false
        //           this.$emit('getPrize', this.prizes[this.index].value)
        //         }, this.animationDuration)
        //       })
        //   }
        // }
        this.currentRotation++
        this.index = Math.round(Math.random() * 8 - 0.5)
        this.rotated = true
        this.rotating = true
        setTimeout(async () => {
          await this.$store.dispatch('user/init')
          this.rotating = false
          this.$emit('getPrize', this.prizes[this.index].value)
        }, this.animationDuration)
      }
    }
  }
}
</script>

<style lang="scss" scoped>
.wheel-me-indicator {
  position: absolute;
  top: -6px;
  left: 50%;
  transform: translate3d(-50%, -100%, 0);
  @include respond-to(small, max) {
    width: 25px;
  }
}
.wheel-me {
  position: relative;
  display: inline-block;
  max-width: 100%;
  .wheel-me-action {
    position: absolute;
    left: 33%;
    top: 33%;
    width: 34%;
    height: 34%;
    padding: 0;
    border-radius: 50%;
    background-image: linear-gradient(42deg, #bbbbbb 0%, #ffffff 100%);
    color: $color-primary;
    box-shadow: 0 0 1.2em rgba(0, 0, 0, 0.8);
    transition: opacity 0.2s ease-in-out;
    &:hover {
      opacity: 0.7;
    }
  }
}
.wheel-me-img {
  transition: transform 10s cubic-bezier(.84,.05,.41,.94);

  svg {
    width: 479px;
    max-width: 100%;
  }

  &.rotate-6 {
    transform: rotate(1440deg);
  }
  &.rotate-1 {
    transform: rotate(1395deg);
  }
  &.rotate-7 {
    transform: rotate(1350deg);
  }
  &.rotate-2 {
    transform: rotate(1305deg);
  }
  &.rotate-8 {
    transform: rotate(1260deg);
  }
  &.rotate-3 {
    transform: rotate(1215deg);
  }
  &.rotate-5 {
    transform: rotate(1170deg);
  }
  &.rotate-4 {
    transform: rotate(1125deg);
  }
}
.st0{fill:url(#SVGID_1_);}
.st1{fill:#470612;}
.st2{fill:url(#SVGID_2_);}
.st3{fill:url(#SVGID_3_);}
.st4{fill:url(#SVGID_4_);}
.st5{fill:#FFFFFF;fill-opacity:0.2;}
.st6{fill:#FFFFFF;}
.cls-1 {
  fill-rule: evenodd;
  fill: url(#linear-gradient);
}
</style>
